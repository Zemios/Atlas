<div class="m-4 rounded-3xl bg-white p-6 shadow-lg text-gray-800">
  <!-- Encabezado -->
  <div class="mb-6 flex flex-col md:flex-row md:items-center md:justify-between gap-6">
    <h2 class="text-3xl md:text-4xl font-bold text-blue-800 flex items-center gap-2 py-7">
      <i class="bi bi-ui-checks-grid"></i> Configurador Web
    </h2>

    <div class="flex flex-col md:flex-row gap-4 md:gap-6 items-end md:items-center">
      @if (price > 0 || priceMonthly <= 0) {
        <div class="rounded-xl border-2 border-blue-500 bg-blue-100 px-5 py-3 text-right shadow-sm">
          <p class="text-sm md:text-base font-medium text-blue-700">{{(price > 0 ) ? 'Precio Estimado': 'Introduce Preferencias'}}</p>
          <h1 class="text-3xl md:text-4xl font-bold text-blue-700">{{ (price > 0) ? (price + ' €') : '' }}</h1>
        </div>
      }
      @if (priceMonthly > 0) {
        <div class="rounded-xl border-2 border-blue-400 bg-blue-50 px-5 py-3 text-right shadow-sm">
          <p class="text-sm md:text-base font-medium text-blue-600">Precio Mensual</p>
          <h1 class="text-3xl md:text-4xl font-bold text-blue-600">{{ priceMonthly }} €</h1>
        </div>
      }
    </div>
  </div>

  <!-- Opciones -->
  <section class="grid gap-6 md:grid-cols-2">
    <!-- Web -->
    <section class="rounded-xl border border-gray-200 bg-gray-50 p-5 flex flex-col gap-4 shadow-sm">
      <div class="flex flex-wrap gap-3 items-center">
        <h3 class="text-2xl font-bold text-blue-700">Web</h3>
        <button
          class="rounded-full border text-blue-700 border-blue-500 px-4 py-1 text-xs font-medium transition"
          [ngClass]="{
            'bg-blue-100': paymentMode === 'one-time',
            'bg-white': paymentMode !== 'one-time'
          }"
          (click)="paymentMode = paymentModeEnum.ONE_TIME">
          Pago único
        </button>
        <button
          class="rounded-full border text-blue-600 border-blue-400 px-4 py-1 text-xs font-medium transition"
          [ngClass]="{
            'bg-blue-50': paymentMode === 'monthly',
            'bg-white': paymentMode !== 'monthly'
          }"
          (click)="paymentMode = paymentModeEnum.MONTHLY">
          Pago mensual
        </button>
      </div>

      <div class="grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-2 items-center justify-around">
        @for (web of webOptions; track $index) {
              <label class="rounded-lg border flex-col items-center w-full flex border-gray-200 bg-white p-3 hover:border-blue-500 cursor-pointer transition">
                @if (web.id == 'web_basic' || web.id == 'web_app' || web.id == 'web_ecommerce') {
                <img src="images/consulting/plan_{{web.id}}.svg" class="w-32 md:w-40 lg:w-52 m-4">
                }
              <div>
                <input
                type="radio"
                name="web"
                [value]="web.id"
                class="mr-2"
                [(ngModel)]="selectedWeb"
                />
                <span class="font-medium">{{ web.name }}</span>
                <span class="flex justify-end mt-2">
                @if (web.price && web.price > 0) {
                  <p class="bg-blue-100 text-xs px-2 w-fit rounded-3xl border border-blue-600 text-blue-600">
                    {{ paymentMode == paymentModeEnum.ONE_TIME ? web.price + priceAjustment + '€' : (web.price / 10) - 5 + priceAjustment + '€ /mes' }}
                  </p>
                }
                </span>
              </div>
            </label>
        }
      </div>
      <div class="p-4 bg-white rounded-lg border border-gray-200">
        <label class="block font-medium mb-2">Páginas Web:</label>
        <input
          type="range"
          min="1"
          max="4"
          [(ngModel)]="pagesCount"
          class="w-full"
        />
        <div class="mt-2 text-blue-700 font-bold">{{ pagesCount }} Página{{ pagesCount > 1 ? 's' : ''}}</div>
      </div>

      <div class="p-4 bg-white rounded-lg border border-gray-200">
        <label class="block font-medium mb-2">Extras:</label>
        @for (extra of webOptionsExtra; track $index) {
          <div class="flex mb-2 justify-between items-center">
            <div>
              <input
              type="checkbox"
              [name]="extra.id"
              [value]="extra.id"
              class="mr-2"
              [(ngModel)]="selectedWebExtras"
              />
              <span class="font-medium">{{ extra.name }}</span>
            </div>
            @if (extra.price && extra.price > 0) {
              <p class="bg-blue-100 text-xs px-2 w-fit rounded-3xl border border-blue-600 text-blue-600">
                {{ paymentMode == paymentModeEnum.ONE_TIME ? extra.price + priceAjustment + '€' : (extra.price / 10) - 5 + priceAjustment + '€ /mes' }}
              </p>
            }
          </div>
        }
      </div>
    </section>

    <!-- Redes Sociales -->
    <section class="rounded-xl border border-gray-200 bg-gray-50 p-5 flex flex-col gap-4 shadow-sm">
      <h3 class="text-2xl font-bold text-blue-700 ">Redes Sociales</h3>
        <div class="p-4 bg-white rounded-lg border border-gray-200">
          <label class="block font-medium mb-2">Redes sociales</label>
          <div class="flex flex-wrap justify-center gap-2">
            <button class="py-2 px-3 rounded-3xl border font-bold from-purple-500 hover:bg-gradient-to-l to-orange-500 hover:text-white duration-75"><i class="bi bi-instagram"></i> Instagram</button>
            <button class="py-2 px-3 rounded-3xl border font-bold hover:bg-black hover:text-white duration-75"><i class="bi bi-tiktok"></i> TikTok</button>
            <button class="py-2 px-3 rounded-3xl border font-bold hover:bg-blue-600 hover:text-white duration-75"><i class="bi bi-facebook"></i> Facebook</button>
            <button class="py-2 px-3 rounded-3xl border font-bold hover:bg-black hover:text-white duration-75"><i class="bi bi-twitter-x"></i> Twitter / X</button>
            <button class="py-2 px-3 rounded-3xl border font-bold hover:bg-blue-500 hover:text-white duration-75"><i class="bi bi-linkedin"></i> LinkedIn</button>
          </div>
        </div>
        
        <div class="p-4 bg-white rounded-lg border border-gray-200">
          <label class="block font-medium mb-2">Publicaciones semanales:</label>
          <input
            type="range"
            min="3"
            max="5"
            [(ngModel)]="postPerWeek"
            class="w-full"
          />
          <div class="mt-2 text-blue-700 font-bold">{{ postPerWeek }} por semana</div>
        </div>
        <div class="mt-4">
          <label class="block font-medium">Extras Sociales:</label>
          <select
            multiple
            [(ngModel)]="socialExtrasSelected"
            class="w-full rounded-lg border border-gray-300 p-2"
          >
            <option *ngFor="let extra of socialOptionsExtra" [value]="extra.id">
              {{ extra.name }} - {{ extra.price }}€
            </option>
          </select>
        </div>
    </section>
  </section>

  <!-- Botón de envío -->
  <div class="mt-8 text-center">
    <button
      class="rounded-full bg-blue-700 px-6 py-3 text-white font-semibold shadow-md transition hover:bg-blue-800">
      Enviar configuración
    </button>
  </div>
</div>
