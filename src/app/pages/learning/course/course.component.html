<div *ngFor="let module of courseData.modules">
  <h2>{{ module.title }}</h2>
  
  <div *ngFor="let contentItem of module.content">
    <ng-container [ngSwitch]="contentItem.type">
      
      <!-- Lección -->
      <div *ngSwitchCase="'lesson'">
        <h3>{{ contentItem.title }}</h3>
        <p>{{ contentItem.text }}</p>
      </div>

      <!-- Ejercicio: Selección múltiple -->
      <div *ngSwitchCase="'exercise'" [ngSwitch]="contentItem.exerciseType">
        
        <!-- Múltiple opción -->
        <div *ngSwitchCase="'multipleChoice'">
          <h4>{{ contentItem.question }}</h4>
          <div *ngFor="let option of contentItem.options">
            <label>
              <input type="radio" name="{{ contentItem.question }}" (change)="checkAnswer(contentItem, option)">
              {{ option }}
            </label>
          </div>
          <p *ngIf="contentItem.isCorrect !== undefined">
            {{ contentItem.isCorrect ? 'Correcto' : 'Incorrecto' }}
          </p>
        </div>

        <!-- Verdadero/Falso -->
        <div *ngSwitchCase="'trueFalse'">
          <h4>{{ contentItem.question }}</h4>
          <label>
            <input type="radio" name="{{ contentItem.question }}" (change)="checkAnswer(contentItem, true)">
            Verdadero
          </label>
          <label>
            <input type="radio" name="{{ contentItem.question }}" (change)="checkAnswer(contentItem, false)">
            Falso
          </label>
          <p *ngIf="contentItem.isCorrect !== undefined">
            {{ contentItem.isCorrect ? 'Correcto' : 'Incorrecto' }}
          </p>
        </div>

        <!-- Completar -->
        <div *ngSwitchCase="'fillInTheBlank'">
          <h4>{{ contentItem.question }}</h4>
          <input type="text" #fillInput>
          <button (click)="checkAnswer(contentItem, fillInput.value)">Comprobar</button>
          <p *ngIf="contentItem.isCorrect !== undefined">
            {{ contentItem.isCorrect ? 'Correcto' : 'Incorrecto' }}
          </p>
        </div>

        <!-- Slider -->
        <div *ngSwitchCase="'slider'">
          <h4>{{ contentItem.question }}</h4>
          <input type="range" [min]="contentItem.min" [max]="contentItem.max" #sliderValue>
          <button (click)="checkAnswer(contentItem, sliderValue.value)">Comprobar</button>
          <p *ngIf="contentItem.isCorrect !== undefined">
            {{ contentItem.isCorrect ? 'Correcto' : 'Incorrecto' }}
          </p>
        </div>

      </div>
    </ng-container>
  </div>
</div>
